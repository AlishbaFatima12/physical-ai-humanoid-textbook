"use strict";(globalThis.webpackChunkphysical_ai_humanoid_textbook=globalThis.webpackChunkphysical_ai_humanoid_textbook||[]).push([[753],{7141:(n,e,i)=>{i.r(e),i.d(e,{assets:()=>a,contentTitle:()=>l,default:()=>h,frontMatter:()=>o,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"chapter-5-unity-visualization","title":"Chapter 5: Unity Visualization","description":"Create photorealistic robot visualizations with Unity. Connect to ROS 2, import URDF models, and build stunning demo environments.\\n","source":"@site/docs/005-chapter-5-unity-visualization.md","sourceDirName":".","slug":"/chapter-5-unity-visualization","permalink":"/physical-ai-humanoid-textbook/chapter-5-unity-visualization","draft":false,"unlisted":false,"editUrl":"https://github.com/AlishbaFatima12/physical-ai-humanoid-textbook/edit/main/docs/docs/005-chapter-5-unity-visualization.md","tags":[{"inline":true,"label":"layer2","permalink":"/physical-ai-humanoid-textbook/tags/layer-2"},{"inline":true,"label":"unity","permalink":"/physical-ai-humanoid-textbook/tags/unity"},{"inline":true,"label":"visualization","permalink":"/physical-ai-humanoid-textbook/tags/visualization"}],"version":"current","lastUpdatedBy":"AlishbaFatima12","lastUpdatedAt":1764391712000,"sidebarPosition":5,"frontMatter":{"id":"chapter-5-unity-visualization","title":"Chapter 5: Unity Visualization","sidebar_position":5,"description":"Create photorealistic robot visualizations with Unity. Connect to ROS 2, import URDF models, and build stunning demo environments.\\n","keywords":["Unity","visualization","ROS 2","digital twin","rendering"],"tags":["layer2","unity","visualization"]},"sidebar":"tutorialSidebar","previous":{"title":"Chapter 4: Gazebo Simulation","permalink":"/physical-ai-humanoid-textbook/chapter-4-gazebo-simulation"},"next":{"title":"Chapter 6: NVIDIA Isaac Perception","permalink":"/physical-ai-humanoid-textbook/chapter-6-isaac-perception"}}');var t=i(4848),r=i(8453);const o={id:"chapter-5-unity-visualization",title:"Chapter 5: Unity Visualization",sidebar_position:5,description:"Create photorealistic robot visualizations with Unity. Connect to ROS 2, import URDF models, and build stunning demo environments.\n",keywords:["Unity","visualization","ROS 2","digital twin","rendering"],tags:["layer2","unity","visualization"]},l="Chapter 5: Unity Visualization",a={},c=[{value:"Overview",id:"overview",level:2},{value:"Why Unity for Robotics?",id:"why-unity-for-robotics",level:2},{value:"Installing Unity",id:"installing-unity",level:2},{value:"Step 1: Download Unity Hub",id:"step-1-download-unity-hub",level:3},{value:"Step 2: Install Unity 2022.3 LTS",id:"step-2-install-unity-20223-lts",level:3},{value:"Unity Robotics Hub Setup",id:"unity-robotics-hub-setup",level:2},{value:"Step 1: Create New Unity Project",id:"step-1-create-new-unity-project",level:3},{value:"Step 2: Install Unity Robotics Hub",id:"step-2-install-unity-robotics-hub",level:3},{value:"Step 3: Install URDF Importer",id:"step-3-install-urdf-importer",level:3},{value:"Connecting Unity to ROS 2",id:"connecting-unity-to-ros-2",level:2},{value:"ROS 2 Side: Start TCP Endpoint",id:"ros-2-side-start-tcp-endpoint",level:3},{value:"Unity Side: Configure Connection",id:"unity-side-configure-connection",level:3},{value:"Importing URDF to Unity",id:"importing-urdf-to-unity",level:2},{value:"Step 1: Prepare URDF",id:"step-1-prepare-urdf",level:3},{value:"Step 2: Import URDF",id:"step-2-import-urdf",level:3},{value:"Visualizing Robot State",id:"visualizing-robot-state",level:2},{value:"Subscribe to Joint States",id:"subscribe-to-joint-states",level:3},{value:"AI-Assisted Workflow \u2b50",id:"ai-assisted-workflow-",level:2},{value:"AI Prompt 1: Optimize Unity Performance",id:"ai-prompt-1-optimize-unity-performance",level:3},{value:"AI Prompt 2: Unity-ROS Message Mapping",id:"ai-prompt-2-unity-ros-message-mapping",level:3},{value:"AI Prompt 3: Lighting for Photorealism",id:"ai-prompt-3-lighting-for-photorealism",level:3},{value:"Creating Demo Scene",id:"creating-demo-scene",level:2},{value:"Step 1: Add Environment",id:"step-1-add-environment",level:3},{value:"Step 2: Lighting",id:"step-2-lighting",level:3},{value:"Step 3: Camera Setup",id:"step-3-camera-setup",level:3},{value:"Exercises",id:"exercises",level:2},{value:"Exercise 1: Connect Unity to ROS 2 (Easy)",id:"exercise-1-connect-unity-to-ros-2-easy",level:3},{value:"Exercise 2: Visualize Robot Joint States (Medium)",id:"exercise-2-visualize-robot-joint-states-medium",level:3},{value:"Exercise 3: Create Professional Demo Scene (Medium)",id:"exercise-3-create-professional-demo-scene-medium",level:3},{value:"Exercise 4: Sync Gazebo &amp; Unity (Hard)",id:"exercise-4-sync-gazebo--unity-hard",level:3},{value:"Troubleshooting",id:"troubleshooting",level:2},{value:"Workflow Patterns",id:"workflow-patterns",level:2},{value:"Pattern 1: URDF \u2192 Unity Import",id:"pattern-1-urdf--unity-import",level:3},{value:"Pattern 2: ROS 2 Message Visualization",id:"pattern-2-ros-2-message-visualization",level:3},{value:"Pattern 3: Scene Optimization",id:"pattern-3-scene-optimization",level:3},{value:"Pattern 4: Lighting Setup",id:"pattern-4-lighting-setup",level:3},{value:"Pattern 5: Camera Follow",id:"pattern-5-camera-follow",level:3},{value:"Assessment Questions",id:"assessment-questions",level:2},{value:"Self-Check",id:"self-check",level:2},{value:"Next Steps",id:"next-steps",level:2},{value:"References",id:"references",level:2}];function d(n){const e={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",input:"input",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...n.components},{Details:i}=e;return i||function(n,e){throw new Error("Expected "+(e?"component":"object")+" `"+n+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(e.header,{children:(0,t.jsx)(e.h1,{id:"chapter-5-unity-visualization",children:"Chapter 5: Unity Visualization"})}),"\n",(0,t.jsx)(e.h2,{id:"overview",children:"Overview"}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.strong,{children:"Learning Objectives:"})}),"\n",(0,t.jsxs)(e.ol,{children:["\n",(0,t.jsx)(e.li,{children:"Set up Unity 2022.3 LTS for robotics visualization"}),"\n",(0,t.jsx)(e.li,{children:"Connect Unity to ROS 2 using Unity Robotics Hub"}),"\n",(0,t.jsx)(e.li,{children:"Visualize robot state and sensor data in real-time"}),"\n",(0,t.jsx)(e.li,{children:"Create photorealistic rendering environments"}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Use AI to streamline Unity-ROS 2 integration workflow"})," \u2b50"]}),"\n"]}),"\n",(0,t.jsx)(e.admonition,{title:"Prerequisites",type:"info",children:(0,t.jsxs)(e.p,{children:["Complete ",(0,t.jsx)(e.a,{href:"./chapter-4-gazebo-simulation",children:"Chapter 4"})," - Gazebo simulation and ROS 2 bridging"]})}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.strong,{children:"Estimated Duration"}),": 5 hours (lecture + lab)"]}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.strong,{children:"Layer Enforcement"}),": ",(0,t.jsx)(e.strong,{children:"Layer 2 (AI-Assisted)"}),". Use AI prompts (\u22653) to optimize Unity workflows."]}),"\n",(0,t.jsx)(e.hr,{}),"\n",(0,t.jsx)(e.h2,{id:"why-unity-for-robotics",children:"Why Unity for Robotics?"}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.strong,{children:"Unity vs Gazebo"}),":"]}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Gazebo"}),": Physics simulation, sensor accuracy, testing"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Unity"}),": Photorealistic rendering, presentations, marketing demos"]}),"\n"]}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.strong,{children:"Use Cases"}),":"]}),"\n",(0,t.jsxs)(e.ol,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Investor Demos"}),": Stunning visuals for funding pitches"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Conference Presentations"}),": High-quality videos"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"User Interfaces"}),": Real-time robot monitoring dashboards"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Documentation"}),": Tutorial videos with clear visuals"]}),"\n"]}),"\n",(0,t.jsx)(e.hr,{}),"\n",(0,t.jsx)(e.h2,{id:"installing-unity",children:"Installing Unity"}),"\n",(0,t.jsx)(e.h3,{id:"step-1-download-unity-hub",children:"Step 1: Download Unity Hub"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-bash",children:"# Download from https://unity.com/download\r\n# Install Unity Hub (graphical installer)\n"})}),"\n",(0,t.jsx)(e.h3,{id:"step-2-install-unity-20223-lts",children:"Step 2: Install Unity 2022.3 LTS"}),"\n",(0,t.jsxs)(e.ol,{children:["\n",(0,t.jsx)(e.li,{children:"Open Unity Hub"}),"\n",(0,t.jsx)(e.li,{children:'Click "Installs" \u2192 "Install Editor"'}),"\n",(0,t.jsxs)(e.li,{children:["Select ",(0,t.jsx)(e.strong,{children:"2022.3 LTS"})," (Long Term Support)"]}),"\n",(0,t.jsxs)(e.li,{children:["Add Modules:","\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"Linux Build Support"}),"\n",(0,t.jsx)(e.li,{children:"Documentation"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(e.hr,{}),"\n",(0,t.jsx)(e.h2,{id:"unity-robotics-hub-setup",children:"Unity Robotics Hub Setup"}),"\n",(0,t.jsx)(e.h3,{id:"step-1-create-new-unity-project",children:"Step 1: Create New Unity Project"}),"\n",(0,t.jsxs)(e.ol,{children:["\n",(0,t.jsx)(e.li,{children:'Unity Hub \u2192 "New Project"'}),"\n",(0,t.jsxs)(e.li,{children:["Template: ",(0,t.jsx)(e.strong,{children:"3D (URP)"})," (Universal Render Pipeline)"]}),"\n",(0,t.jsxs)(e.li,{children:["Project Name: ",(0,t.jsx)(e.code,{children:"Humanoid_Visualization"})]}),"\n",(0,t.jsx)(e.li,{children:"Create"}),"\n"]}),"\n",(0,t.jsx)(e.h3,{id:"step-2-install-unity-robotics-hub",children:"Step 2: Install Unity Robotics Hub"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{children:"Window \u2192 Package Manager \u2192 Add package from git URL:\r\nhttps://github.com/Unity-Technologies/ROS-TCP-Connector.git?path=/com.unity.robotics.ros-tcp-connector\n"})}),"\n",(0,t.jsx)(e.h3,{id:"step-3-install-urdf-importer",children:"Step 3: Install URDF Importer"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{children:"Add package from git URL:\r\nhttps://github.com/Unity-Technologies/URDF-Importer.git?path=/com.unity.robotics.urdf-importer\n"})}),"\n",(0,t.jsx)(e.hr,{}),"\n",(0,t.jsx)(e.h2,{id:"connecting-unity-to-ros-2",children:"Connecting Unity to ROS 2"}),"\n",(0,t.jsx)(e.h3,{id:"ros-2-side-start-tcp-endpoint",children:"ROS 2 Side: Start TCP Endpoint"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-bash",children:"sudo apt install ros-humble-ros-tcp-endpoint\r\nsource /opt/ros/humble/setup.bash\r\nros2 run ros_tcp_endpoint default_server_endpoint --ros-args -p ROS_IP:=0.0.0.0\n"})}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.strong,{children:"Expected Output"}),":"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{children:"[INFO] Starting ROS TCP Endpoint at 0.0.0.0:10000\n"})}),"\n",(0,t.jsx)(e.h3,{id:"unity-side-configure-connection",children:"Unity Side: Configure Connection"}),"\n",(0,t.jsxs)(e.ol,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Robotics"})," \u2192 ",(0,t.jsx)(e.strong,{children:"ROS Settings"})]}),"\n",(0,t.jsxs)(e.li,{children:["Set:","\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:["Protocol: ",(0,t.jsx)(e.strong,{children:"ROS 2"})]}),"\n",(0,t.jsxs)(e.li,{children:["ROS IP Address: ",(0,t.jsx)(e.code,{children:"127.0.0.1"})," (localhost)"]}),"\n",(0,t.jsxs)(e.li,{children:["ROS Port: ",(0,t.jsx)(e.code,{children:"10000"})]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(e.li,{children:['Click "',(0,t.jsx)(e.strong,{children:"Connect"}),'"']}),"\n"]}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.strong,{children:"Verify"}),': Unity console shows "Connected to ROS"']}),"\n",(0,t.jsx)(e.hr,{}),"\n",(0,t.jsx)(e.h2,{id:"importing-urdf-to-unity",children:"Importing URDF to Unity"}),"\n",(0,t.jsx)(e.h3,{id:"step-1-prepare-urdf",children:"Step 1: Prepare URDF"}),"\n",(0,t.jsx)(e.p,{children:"Ensure your humanoid URDF has materials:"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-xml",metastring:'title="humanoid_unity.urdf"',children:'<gazebo reference="base_link">\r\n  <material>Gazebo/White</material>\r\n</gazebo>\n'})}),"\n",(0,t.jsx)(e.h3,{id:"step-2-import-urdf",children:"Step 2: Import URDF"}),"\n",(0,t.jsxs)(e.ol,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Assets"})," \u2192 ",(0,t.jsx)(e.strong,{children:"Import Robot from URDF"})]}),"\n",(0,t.jsxs)(e.li,{children:["Select ",(0,t.jsx)(e.code,{children:"humanoid_torso.urdf"})]}),"\n",(0,t.jsxs)(e.li,{children:["Import Settings:","\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:["Axis Type: ",(0,t.jsx)(e.strong,{children:"Y Axis"})]}),"\n",(0,t.jsxs)(e.li,{children:["Mesh Decomposer: ",(0,t.jsx)(e.strong,{children:"VHACD"})]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(e.li,{children:['Click "',(0,t.jsx)(e.strong,{children:"Import Robot"}),'"']}),"\n"]}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.strong,{children:"Result"}),": Robot appears in Hierarchy as GameObject"]}),"\n",(0,t.jsx)(e.hr,{}),"\n",(0,t.jsx)(e.h2,{id:"visualizing-robot-state",children:"Visualizing Robot State"}),"\n",(0,t.jsx)(e.h3,{id:"subscribe-to-joint-states",children:"Subscribe to Joint States"}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.strong,{children:"Create C# Script"}),": ",(0,t.jsx)(e.code,{children:"JointStateSubscriber.cs"})]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-csharp",metastring:'title="Assets/Scripts/JointStateSubscriber.cs"',children:'using UnityEngine;\r\nusing Unity.Robotics.ROSTCPConnector;\r\nusing RosMessageTypes.Sensor;\r\n\r\npublic class JointStateSubscriber : MonoBehaviour\r\n{\r\n    private ROSConnection ros;\r\n    private ArticulationBody[] joints;\r\n\r\n    void Start()\r\n    {\r\n        ros = ROSConnection.GetOrCreateInstance();\r\n        ros.RegisterRosService<MJointStateMsg>("/joint_states");\r\n\r\n        ros.Subscribe<MJointStateMsg>("/joint_states", JointStateCallback);\r\n\r\n        // Get all articulation bodies (Unity\'s joint representation)\r\n        joints = GetComponentsInChildren<ArticulationBody>();\r\n    }\r\n\r\n    void JointStateCallback(MJointStateMsg jointStateMsg)\r\n    {\r\n        for (int i = 0; i < jointStateMsg.name.Length; i++)\r\n        {\r\n            string jointName = jointStateMsg.name[i];\r\n            float position = (float)jointStateMsg.position[i];\r\n\r\n            // Find matching Unity joint\r\n            ArticulationBody joint = System.Array.Find(joints,\r\n                j => j.name.Contains(jointName));\r\n\r\n            if (joint != null)\r\n            {\r\n                var drive = joint.xDrive;\r\n                drive.target = position * Mathf.Rad2Deg; // Convert to degrees\r\n                joint.xDrive = drive;\r\n            }\r\n        }\r\n    }\r\n}\n'})}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.strong,{children:"Attach Script"}),": Drag onto robot GameObject in Hierarchy"]}),"\n",(0,t.jsx)(e.hr,{}),"\n",(0,t.jsx)(e.h2,{id:"ai-assisted-workflow-",children:"AI-Assisted Workflow \u2b50"}),"\n",(0,t.jsx)(e.h3,{id:"ai-prompt-1-optimize-unity-performance",children:"AI Prompt 1: Optimize Unity Performance"}),"\n",(0,t.jsxs)(e.admonition,{title:"Ask AI",type:"tip",children:[(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.strong,{children:"Prompt"}),': "My Unity scene with a 20-DOF humanoid robot is running at 15 FPS. What are the top 5 optimization techniques for real-time ROS 2 visualization?"']}),(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.strong,{children:"Expected AI Response"}),":"]}),(0,t.jsxs)(e.ol,{children:["\n",(0,t.jsx)(e.li,{children:"Reduce shadow quality (Realtime \u2192 Baked)"}),"\n",(0,t.jsx)(e.li,{children:"Use LOD (Level of Detail) for distant objects"}),"\n",(0,t.jsx)(e.li,{children:"Limit articulation bodies to essential joints"}),"\n",(0,t.jsx)(e.li,{children:"Reduce post-processing effects"}),"\n",(0,t.jsx)(e.li,{children:"Use occlusion culling"}),"\n"]}),(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.strong,{children:"Your Task"}),": Implement 3 optimizations, measure FPS improvement."]})]}),"\n",(0,t.jsx)(e.hr,{}),"\n",(0,t.jsx)(e.h3,{id:"ai-prompt-2-unity-ros-message-mapping",children:"AI Prompt 2: Unity-ROS Message Mapping"}),"\n",(0,t.jsxs)(e.admonition,{title:"Ask AI",type:"tip",children:[(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.strong,{children:"Prompt"}),': "I need to display IMU data (orientation, angular velocity) from ROS 2 sensor_msgs/Imu in Unity. Suggest the best Unity components and scripts to visualize this data."']}),(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.strong,{children:"Expected AI Response"}),":"]}),(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"Orientation \u2192 Apply quaternion to Transform.rotation"}),"\n",(0,t.jsx)(e.li,{children:"Angular velocity \u2192 Show as colored arrow (Gizmos)"}),"\n",(0,t.jsx)(e.li,{children:"Linear acceleration \u2192 Particle system or trail renderer"}),"\n"]}),(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.strong,{children:"Your Task"}),": Create C# script to visualize IMU data."]})]}),"\n",(0,t.jsx)(e.hr,{}),"\n",(0,t.jsx)(e.h3,{id:"ai-prompt-3-lighting-for-photorealism",children:"AI Prompt 3: Lighting for Photorealism"}),"\n",(0,t.jsxs)(e.admonition,{title:"Ask AI",type:"tip",children:[(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.strong,{children:"Prompt"}),': "I\'m creating a demo video of my humanoid robot in Unity. Recommend lighting setup (types, angles, intensities) for professional-looking indoor scene."']}),(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.strong,{children:"Expected AI Response"}),":"]}),(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"Key Light: Directional, 45\xb0 angle, intensity 1.5"}),"\n",(0,t.jsx)(e.li,{children:"Fill Light: Area light, opposite side, intensity 0.5"}),"\n",(0,t.jsx)(e.li,{children:"Rim Light: Spot light behind robot, intensity 1.0"}),"\n",(0,t.jsx)(e.li,{children:"HDRI Skybox for ambient lighting"}),"\n"]}),(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.strong,{children:"Your Task"}),": Implement 3-point lighting in your scene."]})]}),"\n",(0,t.jsx)(e.hr,{}),"\n",(0,t.jsx)(e.h2,{id:"creating-demo-scene",children:"Creating Demo Scene"}),"\n",(0,t.jsx)(e.h3,{id:"step-1-add-environment",children:"Step 1: Add Environment"}),"\n",(0,t.jsxs)(e.ol,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"GameObject"})," \u2192 ",(0,t.jsx)(e.strong,{children:"3D Object"})," \u2192 ",(0,t.jsx)(e.strong,{children:"Plane"})," (ground)"]}),"\n",(0,t.jsx)(e.li,{children:"Scale: (10, 1, 10)"}),"\n",(0,t.jsxs)(e.li,{children:["Add Material:","\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"Albedo: Gray (#808080)"}),"\n",(0,t.jsx)(e.li,{children:"Smoothness: 0.3"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(e.h3,{id:"step-2-lighting",children:"Step 2: Lighting"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{children:"Lighting \u2192 Environment \u2192 Skybox Material \u2192 None\r\nLighting \u2192 Ambient \u2192 Source: Color (#404040)\n"})}),"\n",(0,t.jsx)(e.p,{children:"Add Directional Light:"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"Rotation: (50, -30, 0)"}),"\n",(0,t.jsx)(e.li,{children:"Intensity: 1.2"}),"\n",(0,t.jsxs)(e.li,{children:["Shadows: ",(0,t.jsx)(e.strong,{children:"Soft Shadows"})]}),"\n"]}),"\n",(0,t.jsx)(e.h3,{id:"step-3-camera-setup",children:"Step 3: Camera Setup"}),"\n",(0,t.jsxs)(e.ol,{children:["\n",(0,t.jsx)(e.li,{children:"Main Camera position: (2, 1.5, -3)"}),"\n",(0,t.jsx)(e.li,{children:"Rotation: (10, -30, 0)"}),"\n",(0,t.jsxs)(e.li,{children:["Add ",(0,t.jsx)(e.strong,{children:"Cinemachine Virtual Camera"}),":","\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"Follow: Robot base_link"}),"\n",(0,t.jsx)(e.li,{children:"Look At: Robot torso"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(e.hr,{}),"\n",(0,t.jsx)(e.h2,{id:"exercises",children:"Exercises"}),"\n",(0,t.jsx)(e.h3,{id:"exercise-1-connect-unity-to-ros-2-easy",children:"Exercise 1: Connect Unity to ROS 2 (Easy)"}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.strong,{children:"Requirements"}),":"]}),"\n",(0,t.jsxs)(e.ol,{children:["\n",(0,t.jsx)(e.li,{children:"Install Unity Robotics Hub"}),"\n",(0,t.jsx)(e.li,{children:"Start ROS 2 TCP endpoint"}),"\n",(0,t.jsx)(e.li,{children:"Connect Unity to ROS 2"}),"\n",(0,t.jsx)(e.li,{children:"Verify connection in Unity console"}),"\n"]}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.strong,{children:"Acceptance Criteria"}),":"]}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:'Unity console shows "Connected to ROS"'}),"\n",(0,t.jsx)(e.li,{children:"No timeout errors"}),"\n"]}),"\n",(0,t.jsx)(e.hr,{}),"\n",(0,t.jsx)(e.h3,{id:"exercise-2-visualize-robot-joint-states-medium",children:"Exercise 2: Visualize Robot Joint States (Medium)"}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.strong,{children:"Requirements"}),":"]}),"\n",(0,t.jsxs)(e.ol,{children:["\n",(0,t.jsx)(e.li,{children:"Import humanoid URDF to Unity"}),"\n",(0,t.jsxs)(e.li,{children:["Create ",(0,t.jsx)(e.code,{children:"JointStateSubscriber.cs"})," script"]}),"\n",(0,t.jsxs)(e.li,{children:["Publish joint states from ROS 2:","\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-bash",children:"ros2 topic pub /joint_states sensor_msgs/JointState ...\n"})}),"\n"]}),"\n",(0,t.jsx)(e.li,{children:"Observe robot moving in Unity"}),"\n"]}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.strong,{children:"Acceptance Criteria"}),":"]}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"Robot joints move in sync with ROS 2 messages"}),"\n",(0,t.jsx)(e.li,{children:"No lag > 100ms"}),"\n"]}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.strong,{children:"AI Assistance"}),' \u2b50:\r\nAsk AI: "How should I handle joint name mismatches between URDF and Unity ArticulationBody names?"']}),"\n",(0,t.jsx)(e.hr,{}),"\n",(0,t.jsx)(e.h3,{id:"exercise-3-create-professional-demo-scene-medium",children:"Exercise 3: Create Professional Demo Scene (Medium)"}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.strong,{children:"Requirements"}),":"]}),"\n",(0,t.jsxs)(e.ol,{children:["\n",(0,t.jsx)(e.li,{children:"Add environment (floor, walls, props)"}),"\n",(0,t.jsx)(e.li,{children:"Implement 3-point lighting"}),"\n",(0,t.jsx)(e.li,{children:"Add camera with Cinemachine follow"}),"\n",(0,t.jsx)(e.li,{children:"Record 30-second video"}),"\n"]}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.strong,{children:"Acceptance Criteria"}),":"]}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"Scene looks professional (no default gray background)"}),"\n",(0,t.jsx)(e.li,{children:"Robot is well-lit, no harsh shadows"}),"\n",(0,t.jsx)(e.li,{children:"Video exports at 1080p 60fps"}),"\n"]}),"\n",(0,t.jsx)(e.hr,{}),"\n",(0,t.jsx)(e.h3,{id:"exercise-4-sync-gazebo--unity-hard",children:"Exercise 4: Sync Gazebo & Unity (Hard)"}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.strong,{children:"Requirements"}),":"]}),"\n",(0,t.jsxs)(e.ol,{children:["\n",(0,t.jsx)(e.li,{children:"Run Gazebo simulation with humanoid"}),"\n",(0,t.jsxs)(e.li,{children:["Bridge ",(0,t.jsx)(e.code,{children:"/joint_states"})," to Unity"]}),"\n",(0,t.jsx)(e.li,{children:"Robot moves identically in both"}),"\n",(0,t.jsx)(e.li,{children:"Display camera feed from Gazebo in Unity UI"}),"\n"]}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.strong,{children:"Acceptance Criteria"}),":"]}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:["Both simulations synchronized (",(0,t.jsx)(e.code,{children:"<50ms"})," delay)"]}),"\n",(0,t.jsx)(e.li,{children:"Camera feed shows in Unity Canvas"}),"\n"]}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.strong,{children:"AI Assistance"}),' \u2b50:\r\nAsk AI: "What\'s causing 200ms latency between Gazebo and Unity, and how can I reduce it?"']}),"\n",(0,t.jsx)(e.hr,{}),"\n",(0,t.jsx)(e.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,t.jsxs)(i,{children:[(0,t.jsx)("summary",{children:(0,t.jsx)("strong",{children:'Error 1: "Could not connect to ROS"'})}),(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.strong,{children:"Cause"}),": TCP endpoint not running or wrong IP."]}),(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.strong,{children:"Fix"}),":"]}),(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-bash",children:"# Verify endpoint is running\r\nros2 node list\r\n# Should show: /ros_tcp_endpoint\r\n\r\n# Check IP address\r\nhostname -I\n"})}),(0,t.jsx)(e.p,{children:"In Unity ROS Settings, use the correct IP address."})]}),"\n",(0,t.jsxs)(i,{children:[(0,t.jsx)("summary",{children:(0,t.jsx)("strong",{children:"Error 2: Robot Explodes on Import"})}),(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.strong,{children:"Cause"}),": Incorrect URDF axis or mass values."]}),(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.strong,{children:"Fix"}),":"]}),(0,t.jsxs)(e.ol,{children:["\n",(0,t.jsx)(e.li,{children:"Check URDF masses (all > 0)"}),"\n",(0,t.jsxs)(e.li,{children:["Use ",(0,t.jsx)(e.strong,{children:"Y Axis"})," for Unity import"]}),"\n",(0,t.jsx)(e.li,{children:"Reduce collision mesh complexity"}),"\n"]})]}),"\n",(0,t.jsxs)(i,{children:[(0,t.jsx)("summary",{children:(0,t.jsx)("strong",{children:"Error 3: Low FPS in Play Mode"})}),(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.strong,{children:"Cause"}),": Too many shadows, post-processing, or complex meshes."]}),(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.strong,{children:"Fix"}),": Use ",(0,t.jsx)(e.strong,{children:"AI Prompt 1"})," for systematic optimization."]})]}),"\n",(0,t.jsx)(e.hr,{}),"\n",(0,t.jsx)(e.h2,{id:"workflow-patterns",children:"Workflow Patterns"}),"\n",(0,t.jsx)(e.h3,{id:"pattern-1-urdf--unity-import",children:"Pattern 1: URDF \u2192 Unity Import"}),"\n",(0,t.jsxs)(e.ol,{children:["\n",(0,t.jsxs)(e.li,{children:["Validate URDF with ",(0,t.jsx)(e.code,{children:"check_urdf"})]}),"\n",(0,t.jsx)(e.li,{children:"Set Unity import axis to Y"}),"\n",(0,t.jsx)(e.li,{children:"Use VHACD mesh decomposer"}),"\n",(0,t.jsx)(e.li,{children:"Verify joint names match ROS 2"}),"\n"]}),"\n",(0,t.jsx)(e.h3,{id:"pattern-2-ros-2-message-visualization",children:"Pattern 2: ROS 2 Message Visualization"}),"\n",(0,t.jsxs)(e.ol,{children:["\n",(0,t.jsx)(e.li,{children:"Identify ROS message type"}),"\n",(0,t.jsxs)(e.li,{children:["Create C# script with ",(0,t.jsx)(e.code,{children:"ROSConnection.Subscribe()"})]}),"\n",(0,t.jsx)(e.li,{children:"Map ROS data to Unity components"}),"\n",(0,t.jsxs)(e.li,{children:["Test with ",(0,t.jsx)(e.code,{children:"ros2 topic pub"})]}),"\n"]}),"\n",(0,t.jsx)(e.h3,{id:"pattern-3-scene-optimization",children:"Pattern 3: Scene Optimization"}),"\n",(0,t.jsxs)(e.ol,{children:["\n",(0,t.jsx)(e.li,{children:"Measure baseline FPS"}),"\n",(0,t.jsx)(e.li,{children:"Profile with Unity Profiler"}),"\n",(0,t.jsx)(e.li,{children:"Apply targeted optimizations"}),"\n",(0,t.jsx)(e.li,{children:"Re-measure FPS"}),"\n"]}),"\n",(0,t.jsx)(e.h3,{id:"pattern-4-lighting-setup",children:"Pattern 4: Lighting Setup"}),"\n",(0,t.jsxs)(e.ol,{children:["\n",(0,t.jsx)(e.li,{children:"Disable ambient lighting"}),"\n",(0,t.jsx)(e.li,{children:"Add key + fill + rim lights"}),"\n",(0,t.jsx)(e.li,{children:"Bake static shadows"}),"\n",(0,t.jsx)(e.li,{children:"Add HDRI skybox"}),"\n"]}),"\n",(0,t.jsx)(e.h3,{id:"pattern-5-camera-follow",children:"Pattern 5: Camera Follow"}),"\n",(0,t.jsxs)(e.ol,{children:["\n",(0,t.jsx)(e.li,{children:"Install Cinemachine package"}),"\n",(0,t.jsx)(e.li,{children:"Create Virtual Camera"}),"\n",(0,t.jsx)(e.li,{children:"Set Follow/Look At targets"}),"\n",(0,t.jsx)(e.li,{children:"Tune damping for smooth motion"}),"\n"]}),"\n",(0,t.jsx)(e.hr,{}),"\n",(0,t.jsx)(e.h2,{id:"assessment-questions",children:"Assessment Questions"}),"\n",(0,t.jsxs)(i,{children:[(0,t.jsxs)("summary",{children:[(0,t.jsx)("strong",{children:"Q1"}),": When should I use Unity vs Gazebo?"]}),(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.strong,{children:"Answer"}),":"]}),(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Gazebo"}),": Physics testing, sensor accuracy, algorithm validation"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Unity"}),": Demos, presentations, UI development, marketing videos"]}),"\n"]})]}),"\n",(0,t.jsxs)(i,{children:[(0,t.jsxs)("summary",{children:[(0,t.jsx)("strong",{children:"Q2"}),": How do I convert quaternion from ROS 2 to Unity?"]}),(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.strong,{children:"Answer"}),":\r\nROS 2 and Unity have different coordinate systems:"]}),(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-csharp",children:"// ROS 2: (x, y, z, w)\r\n// Unity: (x, y, z, w) but different axes\r\n\r\nQuaternion unityQuat = new Quaternion(\r\n    -rosQuat.y,  // Flip Y\r\n    rosQuat.z,\r\n    rosQuat.x,\r\n    rosQuat.w\r\n);\n"})})]}),"\n",(0,t.jsxs)(i,{children:[(0,t.jsx)("summary",{children:(0,t.jsx)("strong",{children:"Q3: Can Unity simulate physics like Gazebo?"})}),(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.strong,{children:"Answer"}),": Unity has physics (PhysX), but:"]}),(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"Less accurate than Gazebo for robotics"}),"\n",(0,t.jsx)(e.li,{children:"Missing robot-specific features (contact sensors, JointController)"}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Best Practice"}),": Simulate in Gazebo, visualize in Unity"]}),"\n"]})]}),"\n",(0,t.jsx)(e.hr,{}),"\n",(0,t.jsx)(e.h2,{id:"self-check",children:"Self-Check"}),"\n",(0,t.jsx)(e.p,{children:"Before Chapter 6, verify you can:"}),"\n",(0,t.jsxs)(e.ul,{className:"contains-task-list",children:["\n",(0,t.jsxs)(e.li,{className:"task-list-item",children:[(0,t.jsx)(e.input,{type:"checkbox",disabled:!0})," ","Install Unity 2022.3 LTS and Robotics Hub"]}),"\n",(0,t.jsxs)(e.li,{className:"task-list-item",children:[(0,t.jsx)(e.input,{type:"checkbox",disabled:!0})," ","Import URDF to Unity"]}),"\n",(0,t.jsxs)(e.li,{className:"task-list-item",children:[(0,t.jsx)(e.input,{type:"checkbox",disabled:!0})," ","Connect Unity to ROS 2 TCP endpoint"]}),"\n",(0,t.jsxs)(e.li,{className:"task-list-item",children:[(0,t.jsx)(e.input,{type:"checkbox",disabled:!0})," ","Subscribe to ",(0,t.jsx)(e.code,{children:"/joint_states"})," and visualize"]}),"\n",(0,t.jsxs)(e.li,{className:"task-list-item",children:[(0,t.jsx)(e.input,{type:"checkbox",disabled:!0})," ","Use AI prompts for Unity optimization \u2b50"]}),"\n",(0,t.jsxs)(e.li,{className:"task-list-item",children:[(0,t.jsx)(e.input,{type:"checkbox",disabled:!0})," ","Create professional demo scenes with lighting"]}),"\n",(0,t.jsxs)(e.li,{className:"task-list-item",children:[(0,t.jsx)(e.input,{type:"checkbox",disabled:!0})," ","Record and export videos"]}),"\n"]}),"\n",(0,t.jsx)(e.hr,{}),"\n",(0,t.jsx)(e.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,t.jsxs)(e.admonition,{title:"What's Next?",type:"note",children:[(0,t.jsxs)(e.p,{children:["Continue to ",(0,t.jsx)(e.a,{href:"./chapter-6-isaac-perception",children:"Chapter 6: Isaac Perception"})," to learn about:"]}),(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"NVIDIA Isaac Sim for perception training"}),"\n",(0,t.jsx)(e.li,{children:"Synthetic data generation"}),"\n",(0,t.jsx)(e.li,{children:"Domain randomization"}),"\n",(0,t.jsx)(e.li,{children:"Reusable perception skills (Layer 3)"}),"\n"]})]}),"\n",(0,t.jsx)(e.hr,{}),"\n",(0,t.jsx)(e.h2,{id:"references",children:"References"}),"\n",(0,t.jsxs)(e.ol,{children:["\n",(0,t.jsx)(e.li,{children:(0,t.jsx)(e.a,{href:"https://github.com/Unity-Technologies/Unity-Robotics-Hub",children:"Unity Robotics Hub"})}),"\n",(0,t.jsx)(e.li,{children:(0,t.jsx)(e.a,{href:"https://github.com/Unity-Technologies/ROS-TCP-Connector",children:"ROS-TCP-Connector"})}),"\n",(0,t.jsx)(e.li,{children:(0,t.jsx)(e.a,{href:"https://github.com/Unity-Technologies/URDF-Importer",children:"URDF Importer"})}),"\n",(0,t.jsx)(e.li,{children:(0,t.jsx)(e.a,{href:"https://docs.unity3d.com/Packages/com.unity.render-pipelines.universal@latest",children:"Unity URP Documentation"})}),"\n"]}),"\n",(0,t.jsx)(e.hr,{}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.strong,{children:"Chapter Status"}),": \u2705 Complete - Unity 2022.3 LTS tested\r\n",(0,t.jsx)(e.strong,{children:"Last Updated"}),": 2025-11-28\r\n",(0,t.jsx)(e.strong,{children:"Layer"}),': 2 (AI-Assisted) - 3 "Ask AI" prompts included']})]})}function h(n={}){const{wrapper:e}={...(0,r.R)(),...n.components};return e?(0,t.jsx)(e,{...n,children:(0,t.jsx)(d,{...n})}):d(n)}},8453:(n,e,i)=>{i.d(e,{R:()=>o,x:()=>l});var s=i(6540);const t={},r=s.createContext(t);function o(n){const e=s.useContext(r);return s.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function l(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(t):n.components||t:o(n.components),s.createElement(r.Provider,{value:e},n.children)}}}]);